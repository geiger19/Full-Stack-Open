(this.webpackJsonpblogfe=this.webpackJsonpblogfe||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(14),u=n.n(c),o=n(3),a=n(2),r=n(0),i=function(e){var t=e.blog,n=e.deleteBlog,c=e.handleUpdatedLikesChange,u=e.updateLikes,o=e.updatedLikes;return Object(r.jsxs)("li",{className:"blog",children:[t.title,Object(r.jsx)("br",{}),t.author,Object(r.jsx)("br",{}),t.url,Object(r.jsx)("br",{}),t.likes," ",Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:n,children:"Delete"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{value:o,onChange:c}),Object(r.jsx)("button",{onclick:u,children:"Update Likes"})]})},l=n(4),s=n.n(l),j="/api/blogs",b=function(){return s.a.get(j).then((function(e){return e.data}))},d=function(e){return s.a.post(j,e).then((function(e){return e.data}))},f=function(e,t){return s.a.put("".concat(j,"/").concat(e),t).then((function(e){return e.data}))},O=function(e){return s.a.delete("".concat(j,"/").concat(e))},g=function(){return Object(r.jsxs)("div",{style:{color:"red",fontStyle:"italic",fontSize:16},children:[Object(r.jsx)("br",{}),Object(r.jsx)("em",{children:"Blog app"})]})},h=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),l=Object(o.a)(u,2),s=l[0],j=l[1],h=Object(a.useState)(""),x=Object(o.a)(h,2),v=x[0],p=x[1],m=Object(a.useState)(""),k=Object(o.a)(m,2),S=k[0],L=k[1],C=Object(a.useState)(""),w=Object(o.a)(C,2),y=w[0],B=w[1],D=Object(a.useState)(null),T=Object(o.a)(D,2),U=T[0],E=T[1],I=Object(a.useState)(""),J=Object(o.a)(I,2),N=J[0],z=J[1];Object(a.useEffect)((function(){b().then((function(e){c(e)}))}),[]);var A=function(e){console.log(e.target.value),z(e.target.value)},R=function(e){var t=e.message;return null===t?null:Object(r.jsx)("div",{className:"message",children:t})},q=n;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Blog"}),Object(r.jsx)(R,{message:U}),Object(r.jsx)("ul",{children:q.map((function(e){return Object(r.jsx)(i,{blog:e,deleteBlog:function(){return function(e){var t=n.find((function(t){return t.id===e}));window.confirm("Delete ".concat(t.title,"?"))&&(O(e).then((function(e){E("Deleted '".concat(t.title,"'")),setTimeout((function(){E(null)}),5e3)})).catch((function(e){E("Information has already been removed from server"),setTimeout((function(){E(null)}),5e3)})),window.location.reload())}(e.id)},handleUpdatedLikesChange:A,updateLikes:function(){return function(e){var t=n.find((function(t){return t.id===e}));f(e,{likes:N}).then((function(t){c(n.map((function(n){return n.id!==e?n:t})))})).catch((function(n){E("Blog '".concat(t.title,"' was already removed from server")),setTimeout((function(){E(null)}),5e3),c(t.filter((function(t){return t.id!==e})))}))}(e.id)},updatedLikes:N},e.id)}))}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d({title:s,author:v,url:S,likes:y}).then((function(e){c(n.concat(e)),j(""),p(""),L(""),B("")}))},children:["Title:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{value:s,onChange:function(e){console.log(e.target.value),j(e.target.value)}}),Object(r.jsx)("br",{}),"Author:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{value:v,onChange:function(e){console.log(e.target.value),p(e.target.value)}}),Object(r.jsx)("br",{}),"URL:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{value:S,onChange:function(e){console.log(e.target.value),L(e.target.value)}}),Object(r.jsx)("br",{}),"Likes:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{value:y,onChange:function(e){console.log(e.target.value),B(e.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",children:"save"})]}),Object(r.jsx)(g,{})]})};n(38);u.a.render(Object(r.jsx)(h,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.f1a62955.chunk.js.map